<!DOCTYPE HTML>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <title>Select - Select</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="nico 0.2.4" />
    <link type="image/x-icon" href="./static/css/favicon.ico" rel="icon">
    <link rel="stylesheet" href="./static/css/normalize.css" />
    <link rel="stylesheet" href="./static/css/site.css" />
    <link rel="stylesheet" href="./static/css/solarized.css" />
    <script src="http://static.alipayobjects.com/seajs/1.3.1/sea.js"></script>
    <script src="./static/js/arale-helper.js"></script>
    <script src="./static/js/site.js"></script><script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36247332-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = 'https://ssl.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<script>
  (function() {
    var data;
    seajs._package = data = {"root":"arale","name":"select","version":"0.9.2","description":"模拟 select 的组件","tag":"widget","homepage":"http://aralejs.org/select","repository":{"type":"git","url":"https://github.com/aralejs/select.git"},"bugs":{"url":"https://github.com/aralejs/select/issues"},"dependencies":{"$":"$","overlay":"arale/overlay/0.9.13/overlay","templatable":"arale/widget/1.0.2/templatable"},"output":{"select.js":"."},"tests":["select"]}
    data.dependencies && (delete data.dependencies['$'])
    data.devDependencies && (delete data.devDependencies['$'])

    seajs.config({ alias: data.dependencies })
    seajs.config({ alias: data.devDependencies })
    seajs.config({ alias: {"select":"./src/select.js"} })

    // for alice
    for(var dep in data.dependencies) {
        // 如果依赖的是样式模块
        if (data.dependencies[dep].indexOf('.css') > 0) {
            seajs.use(dep);
        }
    }
  })();
</script>
    <!--[if lt IE 9]>
    <script src="./static/js/html5shiv.js"></script>
    <![endif]-->
    
  </head>
  <body>
    <div id="body-wrapper">
      <aside id="sidebar-wrapper">
      <h1>
          <a href="./">Select</a><sup class="package-root"><a href="/">arale</a></sup>
      </h1>
        <p class="version">当前版本：<a href="http://aralejs.org/docs/online-status.html#arale-select" title="点击查看此组件发布情况">0.9.2</a></p>
        <p class="description">模拟 select 的组件</p>
        <a class="source" href="https://github.com/aralejs/select.git" target="_blank">View the Project</a>
        <ul id="navigation" role="navigation">
          <li><a href="./">文档</a></li>
          <li><a href="./examples/">演示</a></li>
          <li><a href="history.html">历史</a></li>
          <li><a class="test-link" href="tests/runner.html" target="_blank">用例</a></li>
          <li><a class="issue-link" href="https://github.com/aralejs/select/issues" target="_blank">讨论</a></li>
        </ul>
        

<ul id="module-output"> 
</ul>
<div id="output-card">
    <h3>arale/select/0.9.2/<a target="_blank" id="output-file"></a></h3>
    <p>这是模块的输出文件，请 require 或 seajs.use 以上 ID 来使用本文件，具体 API 请阅读文档。</p>
</div>

      </aside>
      <div id="content-wrapper">
        <div id="content">
<article class="hentry">
  <h1 class="entry-title">Select</h1>
  <div class="entry-content">
    <p>模拟 select 的组件。</p>

<hr/>
<h2 id="%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95">使用方法</h2><h3 id="trigger-%E4%B8%BA-select">trigger 为 select</h3>
<p>html 片段</p>
<div class="highlight"><pre><code class="xml"><span class="tag">&lt;<span class="title">select</span> <span class="attribute">id</span>=<span class="value">"city"</span> <span class="attribute">name</span>=<span class="value">"city"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">option</span> <span class="attribute">value</span>=<span class="value">"value1"</span>&gt;</span>text1<span class="tag">&lt;/<span class="title">option</span>&gt;</span>
    <span class="tag">&lt;<span class="title">option</span> <span class="attribute">value</span>=<span class="value">"value2"</span>&gt;</span>text2<span class="tag">&lt;/<span class="title">option</span>&gt;</span>
<span class="tag">&lt;/<span class="title">select</span>&gt;</span>
</code></pre></div>
<p>javascript 片段</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">new</span> Select({
    trigger: <span class="string">'#city'</span>
}).render()
</code></pre></div><h3 id="trigger-%E4%B8%BA%E5%85%B6%E4%BB%96-dom">trigger 为其他 DOM</h3>
<p>html 片段</p>
<div class="highlight"><pre><code class="xml"><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span> <span class="attribute">id</span>=<span class="value">"city"</span>&gt;</span><span class="tag">&lt;/<span class="title">a</span>&gt;</span>
</code></pre></div>
<p>javascript 片段</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">new</span> Select({
    trigger: <span class="string">'#city'</span>,
    name: <span class="string">'city'</span>,
    model: [
        {value:<span class="string">'value1'</span>, text: <span class="string">'text1'</span>},
        {value:<span class="string">'value2'</span>, text: <span class="string">'text2'</span>}
    ]
}).render();
</code></pre></div><h2 id="%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E">配置说明</h2><h3 id="element">trigger <em>element</em></h3>
<p>trigger 可以为 select 或 其他任何 DOM。</p>

<p><strong>注意：</strong>trigger只能为一个 DOM，如果选出来多个会取第一个</p>

<ul>
<li>如果为 select，会将其隐藏并生成一个 a 标签放在原来的位置。</li>
<li>如果为 DOM，实例化的时候则需要提供 model 作为数据源</li>
</ul>

<p>如果 trigger 比较复杂，可以选择 DOM 自定义结构，而且需要设置 <code>data-role=&quot;trigger-content&quot;</code> 来指定填入内容的位置。</p>
<h3 id="object">model <em>object</em></h3>
<p>model 的来源有两处</p>

<ol>
<li>初始化传入</li>
<li>如果 trigger 为 select，则会根据结构生成 model</li>
</ol>

<p>model 的格式为</p>
<div class="highlight"><pre><code class="javascript">[
    {value:<span class="string">'value1'</span>, text: <span class="string">'text1'</span>, selected: <span class="literal">true</span>},
    {value:<span class="string">'value2'</span>, text: <span class="string">'text2'</span>}
]
</code></pre></div>
<p><code>value</code> <code>text</code> <code>selected</code> 均为 option 的属性</p>
<h3 id="string">template <em>string</em></h3>
<p>生成组件的模版，数据源为 model。</p>
<h3 id="string-0-9-0-%E4%BF%AE%E6%94%B9%EF%BC%8C%E4%B9%8B%E5%89%8D%E4%B8%BA-prefix">classPrefix <em>string</em> <em>(0.9.0 修改，之前为 prefix)</em></h3>
<p>样式前缀，默认为 <code>ui-select</code></p>
<h3 id="string">name <em>string</em></h3>
<p>模拟 select 的属性，表单项需要的 name 值，等同于 <code>select.name</code></p>

<p><strong>注意</strong>：如果 trigger 不是 select，那么会先在页面找 name 的 input，找不到再创建一个。</p>
<h3 id="string">value <em>string</em></h3>
<p>模拟 select 的属性，获取被选中 option 的 value 值，等同于 <code>select.value</code></p>
<h3 id="number">length <em>number</em></h3>
<p>模拟 select 的属性，获取 option 的个数，等同于 <code>select.length</code></p>
<h3 id="number">selectedIndex <em>number</em></h3>
<p>模拟 select 的属性，获取被选中 option 的索引值，等同于 <code>select.selectedIndex</code></p>
<h3 id="boolean">multiple <em>boolean</em></h3>
<p>// TODO</p>
<h3 id="boolean">disabled <em>boolean</em></h3>
<p>模拟 select 的属性，设置 select 是否可点，等同于 <code>select.disabled</code></p>
<h2 id="%E6%96%B9%E6%B3%95">方法</h2><h3 id="select-option">.select(option)</h3>
<p>选中某项，<code>option</code> 支持三种</p>

<ol>
<li>列表索引，为 Number</li>
<li>选择器，为 String</li>
<li>DOM，支持 DOM Element 和 jQuery 对象</li>
</ol>
<h3 id="syncmodel-model">.syncModel(model)</h3>
<p>重新跟进给定的 demo 渲染 select</p>

<p>model 为数据源，和上面提到的 model 格式保持一致</p>
<h3 id="addoption-option">.addOption(option)</h3>
<p>将一个选项添加到最后，option 的格式为</p>

<pre>{value: &#39;value1&#39;, text: &#39;text1&#39;}
</pre>
<h3 id="getoption-option">.getOption(option)</h3>
<p>获取某个选项，参数和 <code>.select</code> 方法一致</p>
<h3 id="removeoption-option">.removeOption(option)</h3>
<p>删除某个选项，参数和 <code>.select</code> 方法一致</p>
<h2 id="%E4%BA%8B%E4%BB%B6">事件</h2><h3 id="change">change</h3>
<p>当选择某项的时候会触发，组件**初始化不会触发此事件**</p>

<p>回调传回的参数为当前选中的项，为 jQuery 对象</p>

<pre>new Select({
    trigger: &#39;&#39;
}).on(&#39;change&#39;, function(target) {
    console.log(target.html());
})
</pre>
<h3 id="disabledchange">disabledChange</h3>
<p>在 disabled 状态变化时会触发这个事件，在初始化的时候也会触发此事件。</p>

<pre>.on(&#39;disabledChange&#39;, function(target, status) {
    console.log(target.html());
})
</pre>

<p>target 为当前选中的项，status 为变化后的 disabled 状态</p>
<h2 id="%E9%97%AE%E9%A2%98%E8%AE%A8%E8%AE%BA">问题讨论</h2>
<ul>
<li><code>ui-select-item</code> 避免设置 height <a href="https://github.com/aralejs/select/issues/13">#13</a></li>
<li>trigger 和 template 的字体保持一致，不然宽度可能有不对齐的情况</li>
</ul>

  </div>
</article>
</div>
      </div>
      
    </div>
    <div id="footer-wrapper">
      <footer>
        <p class="powered"><a href="http://aralejs.org">Arale</a> •
<a href="http://aliceui.org">Alice</a> •
<a href="http://seajs.org">SeaJS</a> •
<a href="https://github.com/spmjs/spm">spm</a> •
<a href="http://lab.lepture.com/nico/">nico</a>
        </p>
      </footer>
    </div>
  </body>
</html>